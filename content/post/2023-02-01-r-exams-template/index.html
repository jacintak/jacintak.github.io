---
title: R exams template
author: admin
date: '2023-02-01'
slug: r-exams-template
categories: [code]
tags:
- teaching
- R stats
- code
subtitle: ''
summary: 'Make an exam paper (with optional solutions) with the R package exams'
authors: []
lastmod: 
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---



<div id="pdf-exams-in-r-with-exams" class="section level1">
<h1>PDF exams in R with <code>exams</code></h1>
<p><a href="post/latex-exam-template/index.html">Last month</a> I described a way of creating PDF exam papers that integrate R code. This method used LaTeX to typeset a document with the document class {exam}. This way you could leverage the beautiful advantages of LaTeX within the R markdown environment.</p>
<p>There is an another way of creating PDF exam papers with R code in R markdown I didn’t mention! The R package <code>exams</code> has a function <code>exams2pdf</code> that will create a PDF exam sheet (and solutions!) for you using the <code>exams</code> workflow. I’ve written about <code>exams</code> <a href="teaching/rexams/index.html">before</a>. Check it out if you need an introduction to the package. The package is pretty handy but quite technical. I use the package to create randomised MCQ tests for Blackboard.</p>
<p>The advantages of the <code>exams</code> workflow is that the content is dynamic and it’s easy to randomise the questions and their content. The questions I use to create a Blackboard test can be used to create a paper test. The disadvantage is that the questions are limited to the types that <code>exams</code> supports, which is great for MCQ but not for short answer or essays. For short answer exams, you’re better off using LaTeX.</p>
<p>The default settings/examples of <code>exams2pdf</code> are not that helpful to deploy an exam right away. There is a TeX template with basic features but that is for demonstration only. Here’s what you need to change to generate a more usable exam sheet with a cover page, an answer page, and customized headers. I’m assuming that you have a bank of questions ready to go.</p>
<hr />
</div>
<div id="modifying-the-tex-template" class="section level1">
<h1>Modifying the TeX template</h1>
<p>You can save a copy of the template from <code>exams</code> in your working directory and start from that. The question and the solution sheet have different templates called exam and solution, respectively.<br />
Alternatively, my resulting TeX templates (and script) are on <a href="https://gist.github.com/jacintak/2943f10e4f80f27c93f4044b9086a8be">Gist</a>.</p>
<p>Aside from minor aesthetics like changing text, I’ve made two major modifications to the default template:</p>
<ol style="list-style-type: decimal">
<li>Allowing a user-defined class name as the title of the exam (called <code>Class</code>). In LaTeX this is the variable <code>\myClass</code></li>
<li>Placed the answer sheet on a new page. The original had it on the cover sheet but if you have a lot of questions then it spans two pages.</li>
</ol>
<hr />
</div>
<div id="the-r-script" class="section level1">
<h1>The R script</h1>
<p>The R script to generate the exam is simple: get a list of questions then run <code>exams2pdf</code> with the right variables. Here is the script (also on <a href="https://gist.github.com/jacintak/2943f10e4f80f27c93f4044b9086a8be">Gist</a>):</p>
<pre><code># Creates PDF exam 
# Write questions as Rmd, use latex symbols instead of HTML

# get files as list from directory. Could pool questions as well.
questions &lt;- as.list(list.files(&quot;&lt;directory&gt;&quot;,
                                pattern = &quot;*.Rmd&quot;,
                                full.names = TRUE))

exams::exams2pdf(questions,
                 # list of questions
                 n = 10,
                 # Number of unique copies
                 template = c(&quot;PDF template/exam&quot;, &quot;PDF template/solution&quot;),
                 # Use template
                 name = c(&quot;Blank&quot;, &quot;Answer&quot;),
                 # Give names to files
                 dir = &quot;&lt;output directory&gt;&quot;,
                 # Location to save files
                 header = list(Date = &quot;2023-02-01&quot;,
                               ID = &quot;Code2023&quot;,
                               Class = &quot;Stats&quot;)
                 # Exam information
                 )</code></pre>
<p>Most variables are the same if you’ve used <code>exams</code> before. The key differences are:</p>
<ul>
<li><code>template</code>: the address of your modified TeX files. If blank, then the default package one is used which shows the answers and solutions - not very useful. Using <code>c("exam", "solution")</code> will use the default package ones - also not very useful.</li>
<li><code>name</code>: This is a vector of file names. You need two names because this script is going to generate two versions of the exam: the blank question sheet and the solution.</li>
<li><code>header</code>: These are variables passed to LaTeX to fill in the corresponding fields on the document. Date, class ID and class name can be changed.</li>
</ul>
<p>Now you are ready to print the files!</p>
</div>
