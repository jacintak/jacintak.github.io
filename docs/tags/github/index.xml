<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>github | Jacinta&#39;s Website</title>
    <link>/tags/github/</link>
      <atom:link href="/tags/github/index.xml" rel="self" type="application/rss+xml" />
    <description>github</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Wed, 16 Dec 2020 00:00:00 +0000</lastBuildDate>
    <image>
      <url>/img/icon-512.png</url>
      <title>github</title>
      <link>/tags/github/</link>
    </image>
    
    <item>
      <title>New Year, New Look!</title>
      <link>/post/2021-01-01-new-year-new-look/</link>
      <pubDate>Wed, 16 Dec 2020 00:00:00 +0000</pubDate>
      <guid>/post/2021-01-01-new-year-new-look/</guid>
      <description>
&lt;script src=&#34;index_files/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;index_files/anchor-sections/anchor-sections.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;index_files/anchor-sections/anchor-sections.js&#34;&gt;&lt;/script&gt;


&lt;div id=&#34;welcome-to-my-revamped-website&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Welcome to my revamped website!&lt;/h1&gt;
&lt;p&gt;After banging my head against &lt;code&gt;blogdown&lt;/code&gt; and Hugo on and off for several months (years), I think I understand enough about it to refresh my site. This has been my weekend coding hobby. Itâ€™s taken so long that the under-workings of Hugo and the Academic theme used here have changed in the meantime.&lt;/p&gt;
&lt;p&gt;Setting up a site is simple enough if you follow the instructions online. The template builds a skeleton of the website and all you need to do is replace the placeholder text with your information. Simple right?&lt;/p&gt;
&lt;p&gt;Not quite. The underlying file structure takes some getting used to and youâ€™ll have to trust the magic as your site gets compiled. But once you pass that hurdle, the system is quite powerful and the results are neat.&lt;/p&gt;
&lt;p&gt;There are many features to take advantage of. My interest was in having one site for code documentation and blogging as I was not satisfied with having a â€œregularâ€ website (wordpress) with a blog and my code documentation separately on GitHub Pages.&lt;/p&gt;
&lt;p&gt;My code documentation was also messing up my GitHub. Iâ€™m not a big fan of having documentation (e.g.Â a static website) lumped together with package files. I also didnâ€™t like having an orphan branch for my documentation (no winners here). I can take advantage of the features of Hugo to move my static sites off their respective repositories and into one central one. Itâ€™s better this way as some of the static pages werenâ€™t even relevant to the rest of the repo.&lt;/p&gt;
&lt;p&gt;For example, I used the â€œCoursesâ€ feature to turn my lecture notes into a â€œtutorialâ€ style page.&lt;/p&gt;
&lt;p&gt;There are some features that are missing/not easily implemented compared to Wordpress that I will miss. You canâ€™t comment or â€œfollowâ€ people, you canâ€™t schedule posts and you canâ€™t track views unless you set up Google Analytics or similar. The workflow is a bit tedious for fixing minor things (like spelling mistakes).&lt;/p&gt;
&lt;p&gt;I will keep the &lt;a href=&#34;https://jacintakongresearch.wordpress.com&#34;&gt;wordpress site&lt;/a&gt; up for now but will likely continue to update this one.&lt;/p&gt;
&lt;p&gt;There are some peculiarities that require things to be done a certain way:&lt;/p&gt;
&lt;div id=&#34;things-i-noted&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Things I noted&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sometimes itâ€™s a challenge to troubleshoot why things arenâ€™t working they way you want. E.g. I couldnâ€™t work out why the country wouldnâ€™t show up in the document when including an address in YAML&lt;/li&gt;
&lt;li&gt;A header image/thumbnail can be included in the same folder as the content &lt;em&gt;but&lt;/em&gt; it must be called â€œfeaturedâ€ or it wonâ€™t be recognised&lt;/li&gt;
&lt;li&gt;You can have as many folders as you want called whatever but the (r)markdown file of the page must be called â€œindexâ€
&lt;ul&gt;
&lt;li&gt;In the â€œCoursesâ€ feature the parent page must be called &#34;_index&#34; or it wonâ€™t work. ğŸ¤·&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Rmd and the â€œCoursesâ€ feature donâ€™t play nicely. Defining a table of contents via &lt;code&gt;bookdown&lt;/code&gt; outputs in the YAML doesnâ€™t work and calling &lt;code&gt;toc: true&lt;/code&gt; directly in the YAML (follow the guide) doesnâ€™t work either.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bookdown&lt;/code&gt; and &lt;code&gt;blogdown&lt;/code&gt; donâ€™t play nicely together in the same project either. &lt;code&gt;blogdown&lt;/code&gt; will try to render the &lt;code&gt;bookdown&lt;/code&gt; pages as a site rather than letting &lt;code&gt;bookdown&lt;/code&gt; do its thing and make a nice gitbook.
&lt;ul&gt;
&lt;li&gt;To allow this behaviour, you need to make use of the static file builder (See below)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Despite the template saying â€œUpcoming talksâ€ Hugo doesnâ€™t render things in the future (incl blog posts). You need &lt;code&gt;publishDate&lt;/code&gt; in the YAML&lt;/li&gt;
&lt;li&gt;emojis are a nice feature&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;div id=&#34;using-the-static-folder-to-render-a-gitbook&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Using the static folder to render a gitbook&lt;/h3&gt;
&lt;p&gt;To render rmd files into another output than &lt;code&gt;blogdown::html_page&lt;/code&gt; you can put the rmd in the â€œstaticâ€ folder then write a script that compiles the site in a specific order. To permit a &lt;code&gt;gitbook&lt;/code&gt; page within the site:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Save the &lt;code&gt;bookdown&lt;/code&gt; files in the â€œstaticâ€ folder
&lt;ul&gt;
&lt;li&gt;It doesnâ€™t work with files in the â€œcontentâ€ folder, these will get the usual treatment&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Create a folder called â€œRâ€ in the root directory&lt;/li&gt;
&lt;li&gt;Create an R script called â€œbuild.Râ€ in the â€œRâ€ folder&lt;/li&gt;
&lt;li&gt;Add the render functions you need.
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;blogdown::build_dir(&#34;static&#34;)&lt;/code&gt; is a wrapper for plain &lt;code&gt;rmarkdown::render()&lt;/code&gt; as is so it works best with simple files&lt;/li&gt;
&lt;li&gt;&lt;code&gt;build_dir&lt;/code&gt; doesnâ€™t work for our gitbook example because we want a gitbook that knits with &lt;code&gt;bookdown::render_book&lt;/code&gt;, otherwise you will get a bunch of HTML files from the standard render function&lt;/li&gt;
&lt;li&gt;Thereâ€™s something funny going on with the working directories. Running &lt;code&gt;render_book(&#34;static/index.rmd&#34;)&lt;/code&gt; doesnâ€™t work, neither does the full address. Instead I had to change the working directory for the function to find the right files. Iâ€™m not sure where the function is looking as the project working directory is the root directory.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The above means that all the rmd files for the gitbook also get copied into the â€œdocsâ€ folder. I donâ€™t think itâ€™s avoidable.&lt;/p&gt;
&lt;p&gt;I also have a line to render my CV rmd into a PDF saved into the static folder. That PDF is then copied to the â€œdocsâ€ folder so I have an updated CV without needing to manually create one every time I update the original rmd.&lt;/p&gt;
&lt;p&gt;Hereâ€™s what my &lt;code&gt;build.R&lt;/code&gt; file contains:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Make CV PDF
rmarkdown::render(&amp;#39;content/cv/index.Rmd&amp;#39;, output_format = rmarkdown::pdf_document(keep_tex = FALSE), output_dir = &amp;quot;static/files/&amp;quot;, output_file = &amp;quot;Kong_JD_CV.pdf&amp;quot;)

# make gitbook
# blogdown::build_dir(&amp;quot;static&amp;quot;) doesn&amp;#39;t work because we want a gitbook that knits with render_book
# whereas build_dir uses rmakrdown::render() thus giving html files
setwd(&amp;quot;static/teaching/GLM/&amp;quot;)
bookdown::render_book(input = &amp;quot;index.Rmd&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Iâ€™m not saying goodbye to the grasshoppers so my flavicon is a grasshopper emoji ğŸ¦—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
